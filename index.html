<!DOCTYPE html>
<html>
<head>
    <!--
    ~   ************************************************************************
    ~            ™T©ReMeTaL Properties: Copyright (c) 2024 ™T©ReMeTaL.
    ~   ************************************************************************
    ~    MIT License
    ~    ™T©ReMeTaL toremetal.com
    ~    Copyright (C) 2024 ™T©ReMeTaL.
    ~
    ~    Permission is hereby granted, free of charge, to any person obtaining a copy
    ~    of this software and associated documentation files (the "Software"), to deal
    ~    in the Software without restriction, including without limitation the rights
    ~    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    ~    copies of the Software, and to permit persons to whom the Software is
    ~    furnished to do so, subject to the following conditions:
    ~    
    ~    The above copyright notice and this permission notice shall be included in all
    ~    copies or substantial portions of the Software.
    ~    
    ~    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    ~    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    ~    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    ~    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    ~    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    ~    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    ~    SOFTWARE.
    ~    Created with best intent, Use at your own risk.
    ~    ™T©ReMeTaL Assumes No Liability of any kind.
    ~
    ~   ************************************************************************
    -->
    <meta http-equiv="language" content="en_US">
    <meta lang="en_US" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=1, shrink-to-fit=yes" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <meta name="copyright" content="&#8482;T&#169;ReMeTaL" />
    <meta name="author" content="&#8482;T&#169;ReMeTaL" />
    <meta name="Description" content="95 OBD 1.5 Scanner - Index">
    <title>OBD 1.5 Scanner - &#8482;T&#169;ReMeTaL</title>
    <link rel="icon" href="img/favicon.png" type="image/png" />
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
    <link href="font/im-fell-english-sc.css" rel="stylesheet" />
    <script src="ds/ECM278.js"></script>
<style>
:root {
    --width: 100%;
    --height: 100%;
    --myGold: #c34e2d;
    --themeMetal1: /*CopperRed*/ #CD6E53;
    --themeMetal2: /*CrayolaCopper*/ #D88968;
    --themeMetal3: /*CrayolaGold*/ #E4BA99;
    --themeMetal4: /*Brass*/ #E4BA99;
    --themeMetal5: /*CaliforniaGold*/ #AD9B2E;
    --themeBlue1: #062DA2;
    --themeBlue2: #2BDDF9;
    --themeBlue3: #57F2FF;
    --themeBlue4: #015CE0;
    --themeBlue5: #0B1A51;
    --themeChrome1: #4B505A;
    --themeChrome2: #B0C4DE;
    --themeChrome3: #D1E1F6;
    --themeChrome4: #CCCCCC;
    --themeChrome5: #D8D8D8;
    --themeGold1: #FFDD6B;
    --themeGold2: #F8D060;
    --themeGold3: #F8C04D;
    --themeGold4: #EBA831;
    --themeGold5: #E69400;
}
* {
    text-shadow: 0.5px 0.5px 1px ThreeDFace, 0 0 0.1em ThreeDLightShadow, 0 0 0 ThreeDDarkShadow;

    font-family: 'IM Fell English SC', serif;
    width:auto;
    padding:0 1px 0;
    margin: 1px;
}

.data {
    font-family: "Lucida Console", "Courier New", monospace;
    color:#6ea4fa;
    font-size:larger;
    height: 330px;
    padding: 4px;
    border-radius: 8px;
    border: solid 0.4px #cbc9c9;
    text-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    background: transparent;
    box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    overflow:auto;
}

#sdata {
/*
    border:1px red solid; 
    color:red;
    font-size:20px;
    cursor: pointer;
*/
    color:red;
    font-size:larger;
    height: 330px;
    padding: 4px;
    border-radius: 8px;
    border: solid 0.4px #cbc9c9;
    text-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    background: transparent;
    box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    overflow:auto;
}
#sdata.i {
    color:green;
}
.chromeBorder {
    box-sizing: border-box;
    box-shadow: 1px 2px 5px rgba(0,0,0,.31);
    border: 1px solid rgb(177, 176, 176);
    border: inset 10px var(--themeBlue3, #D8DBDE);/*BBA53D   D8DBDE*/
    border-style:groove ridge ridge groove;
    border-style: outset inset inset outset;
    border-radius:35%;
    padding-top:0;
    padding-bottom:0;
    height:fit-content;
    opacity:0.7;
background:transparent;
border:none;
box-shadow:none;
padding:0 0 0 0;
}
#shact {
   color:darkgreen;
   font-size:20px;
    padding: 4px;
    border: solid 0.4px #cbc9c9;
    text-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    background: transparent;
    box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    cursor:default;
    width:fit-content;
    margin:0 auto;
    padding:0 120px;
    border-radius:2px;
    border-start-start-radius:20px;
    border-start-end-radius:20px;
}
.tab {
   color:darkgreen;
   font-size:20px;
    padding: 4px;
    border: solid 0.4px #cbc9c9;
    text-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    background: transparent;
    box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    cursor:default;
    width:fit-content;
    margin:0 auto;
    padding:0 120px;
    border-radius:2px;
    border-start-start-radius:20px;
    border-start-end-radius:20px;
}
   #shact:hover {
   color:red;
        /*transform: rotate(-1deg);
        -webkit-transform: scale(0.95);
        -ms-transform: scale(0.95);
        -moz-transform: scale(0.95);
        -o-transform: scale(0.95);
        transform: scale(0.95);
        padding: 3.5px;

*/
        border: solid 0.5px #cbc9c9;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.09);
        opacity: 0.8;
        box-shadow: 1px 1px 2px rgba(0,0,0,0.09);
        -webkit-transition: all .3s ease-in-out;
        -moz-transition: all .3s ease-in-out;
        -o-transition: all .3s ease-in-out;
   }
.resBtn {
    border-radius:16px;
}

    
.wait {
  width: 300px;
  height: 60px;
  background-color: red;
  border-radius:10px;
  padding-top:20px;
  position: absolute;
  z-index:2;
  animation-name: example;
  animation-duration: 9s;
  animation-iteration-count: infinite;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.09);
        opacity: 0.8;
        box-shadow: 1px 1px 2px rgba(0,0,0,0.09);
        -webkit-transition: all .3s ease-in-out;
        -moz-transition: all .3s ease-in-out;
        -o-transition: all .3s ease-in-out;
        transition: all .3s ease-in-out;
}

@keyframes example {
  0%   {background-color:red; color:green; left:1%; top:70px;}
  14%  {background-color:yellow; color:blue; left:38%; top:70px;}
  28%  {background-color:blue; color:yellow; left:76%; top:70px;}
  42%  {background-color:green; color:red; left:38%; top:70px;}
  56% {background-color:orange; color:blue; left:1%; top:70px;}
  70% {background-color:red; color:green; left:38%; top:70px;}
  84% {background-color:yellow; color:blue; left:76%; top:70px;}
  98%  {background-color:blue; color:yellow; left:38%; top:70px;}
}
.btn {
    cursor: pointer;
}
   .btn:hover {
   color:orangered;
        /*transform: rotate(-1deg);*/
        padding: 3.5px;
        border: solid 0.5px #cbc9c9;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.09);
        opacity: 0.8;
        box-shadow: 1px 1px 2px rgba(0,0,0,0.09);
        -webkit-transition: all .3s ease-in-out;
        -moz-transition: all .3s ease-in-out;
        -o-transition: all .3s ease-in-out;
        -webkit-transform: scale(0.95);
        -ms-transform: scale(0.95);
        -moz-transform: scale(0.95);
        -o-transform: scale(0.95);
        transform: scale(0.95);
   }
input[type=number] {
  font-size:xx-large;
  font-family: 'IM Fell English SC', serif;
  width: 78px;
  padding: 0 0 0 9px;
  margin: -10px 0 12px;
  text-align: center;
  color:orangered;/*darkred  #ccffee*/
  /*background:#B0B0B0; #36454F*/
    background:transparent;
    box-sizing: border-box;
    border-radius:6px;
    border: ridge 0.4px #cbc9c9;
   box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
}
td {
   border-radius:40%;
    border: ridge 0.4px #cbc9c9;
   box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
background: transparent;
background-color:#36454F;/*#B0B0B0*/
}
td .td1 {
   border-radius:5%;
    border: ridge 0.4px #cbc9c9;
   box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
background: transparent;
}
.td2 {
    border-radius:5px;
    border: none;
    box-shadow: none;
    background: transparent;
}
fieldset {
   min-width:160px;
   border-radius:40%;
    border: ridge 0.4px #cbc9c9;
   box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
background: transparent;
}
legend {
   color:darkgreen;
   font-size:20px;
    padding: 4px;
    border-radius: 50%;
    border: solid 0.4px #cbc9c9;
    text-shadow: 1px 2px 5px rgba(0,0,0,0.31);
    background: var(--themeChrome3);
    cursor: pointer;
    box-shadow: 1px 2px 5px rgba(0,0,0,0.31);
}
.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

.switch input:checked + .slider {
  background-color: #2196F3;
}

.switch input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

.switch input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

form {
   background:transparent;
}
table {
   border:none;
   background:transparent;
}
/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}


.slidecontainer {
  width: 180px;
}

.slider2 {
  -webkit-appearance: none;
  height: 12px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider2:hover {
  opacity: 1;
}

.slider2::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #04AA6D;
  cursor: pointer;
}

.slider2::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #04AA6D;
  cursor: pointer;
}
.hide {
background:transparent;
border:none;
box-shadow:none;
padding:0 0 0 0;
}
.scanControl {
  opacity:0.9;
  background-color:#0f0f0f;
}

.guage {
    background-image: url('img/blank-guage.png');
    background-repeat: no-repeat;
    width:200px;
    height:200px;
    padding:0;
}

</style>



 </head>
<body bgcolor="#000000" text="#303020" link="#006677" vlink="#334460" alink="#cc0055"><!--onload="checkCookie()"-->
   <div align="center">
<header>
<i style="position:absolute;top:4px;right:4px;z-index:1;">
<img title="&#8482;T&#169;ReMeTaL" alt="&#8482;T&#169;ReMeTaL" src="img/toremetal.png" style="width:108px;height:74px;border-radius:25%;"/>
<br />
&#8482;T&#169;ReMeTaL</i>
<fieldset class="scanControl">

       <div hidden id="wait" class="wait" align="center">-Connecting to ECM-<br/>Please Wait</div>
 <legend onclick='sH("usbHelp")' title="Click for Connection Diagram">[?]Scan Controls</legend>
<img onclick='sH("usbHelp")' title="1995 Camaro" alt="1995 Camaro" src="img/camaro2.png" style="cursor:pointer;margin-right:-108px;float:left;border:none;height:48px;width:100px;"/>
    <input title="Disconnect" style="margin-left:-210px;cursor:pointer;" id="disconnect" value="DisConnect" type="button" onclick="disconnectECM();" disabled/>
    <input id="connected" type="checkbox" disabled/>
    <input title="Connect to Ecm" style="cursor:pointer;" id="connect" value="Connect to ECM" type="button" onclick='getSerialPortInfo();'/>
|
<fieldset style="border-radius:10px;width:fit-content;display:inline-flex;float:left;margin:12px 0 0 140px;background-color:#18c7f245;padding-left:8px;padding-right:8px;">
<legend style="background:transparent;background-color:#18c7f225;padding:0;margin:0;border:none;color:lime;cursor:default;">Scans</legend>
 
    <input style="cursor:pointer;" disabled type="radio" id="Mode1" onclick="cmdRunning(1);CMD_CONTROL.eng=0;CMD_CONTROL.nextCmd=ECM.EcmCmdNums.engineDataCmdNum;sendEcmCmd(ECM.EcmCmdNums.stopComCmdNum);" name="idle" value="Mode1" title="Request Engine Data">
 <label for="Mode1">ENG</label>
 
    <input style="cursor:pointer;" disabled type="radio" id="Mode2" onclick="cmdRunning(1);CMD_CONTROL.mil=0;CMD_CONTROL.nextCmd=ECM.EcmCmdNums.milDataCmdNum;sendEcmCmd(ECM.EcmCmdNums.stopComCmdNum);" name="idle" value="Mode2" title="Request MIL Codes.">
 <label for="Mode2">MIL</label>
 <input style="cursor:pointer;" disabled type="radio" id="Mode4" onclick="cmdRunning(1);CMD_CONTROL.vin=0;CMD_CONTROL.nextCmd=ECM.EcmCmdNums.vinDataCmdNum;sendEcmCmd(ECM.EcmCmdNums.stopComCmdNum);" name="idle" value="Mode4" title="Update VIN Data">
 <label for="Mode4">VIN</label>
</fieldset>
 <input title="Continiously Request Engine Data" id="scan" value="Rpt" type="button" onclick='startStopRealTime()'  style="cursor:pointer;" disabled/>

    [<input id="sendingEcmCmd" type="checkbox" disabled/>
    <label for="sendingEcmCmd">Send Request</label> ] 

    [<input id="resettingMil" type="checkbox" disabled/>
    <label for="resettingMil">Reset MIL</label>] 

<input type="button" id="fs" value="F Screen" style="cursor:pointer;" onclick="getFScreen()" />
|
    <select style="cursor:pointer;" name="transmissionType" id="transmissionType" onchange='setTrans();'>
        <optgroup label="Shift-Type">
            <option value="false">Manual</option>
        </optgroup>
        <optgroup label="Shift-Type">
            <option value="true">Automatic</option>
        </optgroup>
    </select>
    <label for="transmissionType" style="font-size:x-small;margin-right:50px;">Transmission</label>
    

                      <div>
                          <code id="autoF" class="slidecontainer" hidden>
                      <label for="gear">Automatic- </label>
                        <input type="range" min="0" max="6" value="6" class="slider2" name="prndl" id="gear">
                        [ <span id="prndlDis" style="color:red;font-size:large;">P</span><small style="color:orange;" id="prndlDis2"></small> ]
                    </code> &nbsp;&nbsp; 
                    <i hidden><code id="manF" class="slidecontainer">
                      <label for="manualGear">Manual- </label>
                          <input type="range" min="0" max="6" value="6" class="slider2" name="manualGear" id="manualGear">
                        [ <span id="manualDis" style="color:red;font-size:large;">N</span><small style="color:orange;" id="manualDis2"></small> ]
                    </code></i>
                    <code>
                      <label for="checkEngine"><img id="checkEngineLight" title="checkEngineLight" alt="checkEngineLight" hidden src="img/checkEngineLight.png" style="width:32px;height:32px;border-radius:6px;"/></label>
                          <input id="checkEngine" title="checkEngine" type="checkBox" hidden disabled>
                    </code></div>
</fieldset>
<div hidden id="usbHelp" style="position:fixed;top:0;bottom:0;right:0;left:0;width:100%;margin-top:8px;z-index:1;background:transparent;" align="center">
<legend style="color:orangered;background-color:#000000;width:fit-content;border-radius:10px;" title="Connection Diagram.">
<label>
PC-USB to OBD1.5 ECM
<br/>
(with OBD2 plug)
</label>
<br/>
<img onclick='sH("usbHelp")' id="usbImage" title="USB" alt="USB" src="img/usb.png" />
<br/>
<i>Rx/Tx to Pin 9.</i>
<br/>
<i>Gnd to Pins 4 (Gnd) & 5 (Signal Gnd).</i>
</legend>
<!--<fieldset style="color:orangered;background:transparent;width:fit-content;border:none;">-->
<legend style="color:orangered;background-color:#000000;width:fit-content;border-radius:10px;" for="delayTimeValue">
<i title="Send Request Interval.">Request Data every, [1 sec = 1000 ms]</i>
    <input id="delayTimeValue" style="border-radius:10px;width:100px;" title="Stream Read delay." value="3000" type="number" min="10" max="10000" step="10" onchange='CMD_CONTROL.delayTime=parseInt(this.value);' /> ms
<br/>
<i title="Serial Read Interval.">Read Data every [1 sec = 1000 ms]</i>
    <input id="loopTimeValue" style="border-radius:10px;width:100px;" title="Read Interval. IMPORTANT!! Set BEFORE Connecting!" value="1000" type="number"min="100" max="10000" step="100" onchange='setSpeed(this.value)'/> ms
<br/>
<code style="color:orange;font-size:small;">IMPORTANT!!<br/>Make adjustments to Read Interval BEFORE Connecting!
</code>
</legend>
    <legend style="color:orangered;background-color:#000000;width:fit-content;border-radius:10px;" title="Data Cmd's">
<code style="color:orange;font-size:small;">
<b style="color:whitesmoke;">CAUTION!! Modifying Cmd Bytes may prevent ECM from responding!</b><br/><small style="color:lime;">Not Recommended Unless You know what your doing.</small><br/>
<i>[Connect]</i>
    <input id="s0" style="border-radius:10px;width:40px;" title="Connect Cmd" maxlength="4" onchange="ECM.EcmCmds.stopComCmd=createCmd('com');" value="0xE4" />
    <input id="s1" style="border-radius:10px;width:40px;" title="Connect Cmd" maxlength="4" onchange="ECM.EcmCmds.stopComCmd=createCmd('com');" value="0x56" />
    <input id="s2" style="border-radius:10px;width:40px;" title="Connect Cmd" maxlength="4" onchange="ECM.EcmCmds.stopComCmd=createCmd('com');" value="0x08" />
    <input id="s3" style="border-radius:10px;width:40px;" title="Connect Cmd" maxlength="4" onchange="ECM.EcmCmds.stopComCmd=createCmd('com');" value="0xAE" />
<br/>
<i>[Engine Data]</i>
    <input id="e0" style="border-radius:10px;width:40px;" title="Engine Data Cmd" maxlength="4" onchange="ECM.EcmCmds.engineDataCmd=createCmd('eng');" value="0xE4" />
    <input id="e1" style="border-radius:10px;width:40px;" title="Engine Data Cmd" maxlength="4" onchange="ECM.EcmCmds.engineDataCmd=createCmd('eng');" value="0x57" />
    <input id="e2" style="border-radius:10px;width:40px;" title="Engine Data Cmd" maxlength="4" onchange="ECM.EcmCmds.engineDataCmd=createCmd('eng');" value="0x01" />
    <input id="e3" style="border-radius:10px;width:40px;" title="Engine Data Cmd" maxlength="4" onchange="ECM.EcmCmds.engineDataCmd=createCmd('eng');" value="0x00" />
    <input id="e4" style="border-radius:10px;width:40px;" title="Engine Data Cmd" maxlength="4" onchange="ECM.EcmCmds.engineDataCmd=createCmd('eng');" value="0xC4" />
<br/>
</code>
</legend>
</div>
</header>
<input id="NotUsed" type="text" value="" hidden/>
<input id="toDo" type="text" value="" hidden/>
<div align="center">
<button title="Main Data" onclick='selectTab("MainTab")' style="cursor:pointer;border-radius:45%;border-end-start-radius:2px;border-end-end-radius:2px;padding:2px 6px;">DASH</button>
<button title="View Engine Data" onclick='selectTab("engTab")' style="cursor:pointer;border-radius:45%;border-end-start-radius:2px;border-end-end-radius:2px;padding:2px 6px;">Engine</button> 
<button id="tranTabBtn" title="View Transmission Data" onclick='selectTab("TransTab")' style="cursor:pointer;border-radius:45%;border-end-start-radius:2px;border-end-end-radius:2px;padding:2px 6px;">Auto-Transmission</button> 
<button title="View MIL/DTC Codes" onclick='selectTab("MilTab")' style="cursor:pointer;border-radius:45%;border-end-start-radius:2px;border-end-end-radius:2px;padding:2px 6px;">MIL-Codes</button> 
<button title="Send Commands to the ECM" onclick='selectTab("ActTab")' style="cursor:pointer;border-radius:45%;border-end-start-radius:2px;border-end-end-radius:2px;padding:2px 6px;">Actuators</button>
<button title="Raw Serial Data" onclick='selectTab("ScanTab")' style="cursor:pointer;border-radius:45%;border-end-start-radius:2px;border-end-end-radius:2px;padding:2px 6px;">Serial</button>
<!-- Dash -->
<div id="MainTab" align="center">
    <table id="Dash">
        <legend class="tab btn" style="width:auto;" id="dashTitle" onclick='sH("Dash")'>Dash</legend>
        <tr class="td1">
            <td class="td2" align="top">
                <table class="td1">
<!--(1) set of 3-->
<tr>

<td class="chromeBorder" width="22%" onclick='sH("f1")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f1")' class="guage">
                    <fieldset align="center" id="f1" class="hide">
                        <legend onclick='sH("f1")' style="background:transparent;">Air/Fuel</legend>
                        <form align="center" style="width:200px;height:inherit;padding:0 0 0 0;margin:-8px auto 0;">
                            <input type="number" step="0.1" id="airfuel" name="airfuel" value="14.7" style="border-radius:50%;font-size:xxx-large;width:100px;padding:10px 0 20px 10px;" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item (2)-->
<td onclick='sH("rpmField")' class="hide">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="transparent" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("rpmField")'>
                    <fieldset id="rpmField" align="center" class="chromeBorder" style="background-image: url('img/rpm-guage.png');background-repeat: no-repeat;width:200px;height:200px;padding:8px;">
                        <legend onclick='sH("rpmField")'>RPM</legend>
                        <form align="center" style="width:inherit;height:inherit;padding:auto;margin:auto;">
                            <img id="rpm-needle" src="img/rpm-needle.png" style="width:inherit;height:inherit;padding:auto;margin:-26px 0 0 -18px;"/><br/>
                            <input type="number" onchange="rotateRPM()" id="rpm" name="rpm" value="0" style="font-size:12px;width:100px;border-radius:10px;margin:-42px 0 0 -59px;position:absolute;">
<!-- readonly-->
                            <fieldset hidden style="padding:0;margin:0;font-size:12px;border-radius: 6px;border: solid 0.4px #cbc9c9;text-shadow: 1px 2px 5px rgba(0,0,0,0.31);background: transparent;cursor: default;box-shadow: none;">
                                <legend style="padding:0;margin:0;text-align:left;color:darkblue;font-size:12px;text-shadow: 1px 2px 5px rgba(0,0,0,0.31);border-radius: 0;border: none;background: transparent;cursor: default;box-shadow: none;">24x</legend>
                                <input type="number" id="rpm24x" name="rpm24x" value="0" readonly>
                            </fieldset>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--end item (2)-->
<!--item (3)-->
<td onclick='sH("mphField")' class="hide">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="transparent" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("mphField")'>
                    <fieldset id="mphField" align="center" class="chromeBorder"style="background-image: url('img/mph-guage.png');background-repeat: no-repeat;width:200px;height:200px;padding:8px;">
                        <legend onclick='sH("mphField")'>MPH</legend>
                        <form align="center" style="width:inherit;height:inherit;padding:0;margin:auto;">
                            <img id="mph-needle" src="img/mph-needle.png" style="width:inherit;height:inherit;padding:auto;margin:-26px 0 0 -14px;"/><br/>
                            <input type="number" onchange="rotateMPH()" id="mph" name="mph" value="0" style="font-size:12px;width:100px;border-radius:10px;margin:-42px 0 0 -59px;position:absolute;">
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--end item (3)-->

<!-- item [MILCODES] -->
<td class="chromeBorder" width="22%" onclick='sH("actMilCodeField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("actMilCodeField")' class="guage">
                    <fieldset id="actMilCodeField" align="center" class="hide">
                        <legend onclick='sH("actMilCodeField")' style="background:transparent;">
                            <img title="checkEngineLight" alt="checkEngineLight" src="img/checkEngine.png" style="background:transparent;width:64px;height:48px;border-radius:6px;padding:0;margin:0;"/>
                        </legend>
                        <form align="center" style="width:inherit;height:inherit;padding:0;margin:0;">
                            <input type="number" step="1" id="actcodes" name="activemilcodes" value="0" style="width:50px;margin-bottom:-2px;" readonly>
                            <input type="number" step="1" id="milcodes" name="milcodes" value="0" style="width:50px;margin-bottom:-4px;" readonly><br/>
                            <label for="actcodes">&nbsp;&nbsp;&nbsp;&nbsp;Active</label> <b> | </b><label for="milcodes">History</label>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- END item [MILCODES] -->

  </tr>
<!--(1) end set of 4-->

<!--(2) set of 3-->
  <tr style="padding:0 60px;">

<!-- item HIDDEN -->
<td class="chromeBorder" id="fantd" width="10%" onclick='sH("fanField")'> 
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fanField")' class="guage">
                    <fieldset align="center" id="fanField" class="hide">
                        <legend onclick='sH("fanField")'>Coolant Fan</legend>
                        <form align="center">
                            <label class="switch" for="fanOnOff">
                                <input id="fanOnOff" type="checkbox" disabled><!--onclick="if(this.checked){sendEcmCmd(ECM.EcmCmdNums.fanon);}else{sendEcmCmd(ECM.EcmCmdNums.fanoff);}"-->
                                <span class="slider round"></span>
                            </label>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>

<!-- item HIDDEN -->
<td hidden class="chromeBorder" width="10%" id="autoTranTemp" onclick='sH("att")'> 
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("att")' class="guage">
                    <fieldset align="center" id="att" class="hide">
                        <legend onclick='sH("att")'>Trans Temp</legend>
                        <form align="center">
                            <input type="number" step="1" id="tempf" name="tempf" value="0" style="margin-top:10px;margin-bottom:10px;" readonly><br/><b style="margin-bottom:-50px;">°f</b>
                            <!--<input type="number" step="1" id="tempc" name="tempc" value="0" readonly> °c-->
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>

<!-- item -->
<td class="chromeBorder" width="22%" onclick='sH("coolField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("coolField")' class="guage">
                    <fieldset id="coolField" align="center" class="hide">
                        <legend onclick='sH("coolField")'>Coolant Temp</legend>
                        <form align="center">
                            <input type="number" step="1" id="coolanttempf" name="coolanttempf" value="0" style="margin-top:10px;margin-bottom:10px;" readonly><br/><b style="margin-bottom:-50px;">°f</b>
                            <!--<input type="number" step="1" id="coolanttempc" name="coolanttempc" value="0" readonly> °c-->
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- item -->
<td class="chromeBorder" width="22%" onclick='sH("airField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("airField")' class="guage">
                    <fieldset id="airField" align="center" class="hide">
                        <legend onclick='sH("airField")'>Intake Air Temp</legend>
                        <form align="center">
                            <input type="number" step="1" id="airtempf" name="airtempf" value="0" style="margin-top:10px;margin-bottom:10px;" readonly><br/><b style="margin-bottom:-50px;">°f</b>
                            <!--<input type="number" step="1" id="airtempc" name="airtempc" value="0" readonly> °c-->
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- item [Battery] -->
<td class="chromeBorder" width="22%" onclick='sH("fc")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fc")' style="background-image: url('img/bat-guage.png');background-repeat: no-repeat;width:200px;height:200px;padding:0;">
                    <fieldset align="center" id="fc" class="hide">
                        <legend onclick='sH("fc")'>Battery +</legend>
                        <form align="center">
                            <input style="border-radius:6px;margin-top:2px;margin-bottom:30px;" type="number" step="0.1" id="battery" name="battery" value="12.9" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
      
<!--(2) end set of 3-->
</tr>
      
<!--(1.1) set of 4-->
  <tr>
<!--item (1)-->
<td class="chromeBorder" width="22%" onclick='sH("throttleDis")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef"bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("throttleDis")' class="guage">
                    <fieldset align="center" id="throttleDis" class="hide">
                        <legend onclick='sH("throttleDis")'>Throttle (tps)</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="0.1" id="throttlev" name="throttlev" value="0.0" readonly> v <br/>
                            <input type="number" step="1" id="throttlep" name="throttlep" value="0" style="width:70px" readonly> %
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item (1)-->
<td class="chromeBorder" width="22%" onclick='sH("iacField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("iacField")' class="guage">
                    <fieldset id="iacField" align="center" class="hide">
                        <legend onclick='sH("iacField")'>IAC</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="iac" name="iac" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--end item (1)-->

<!--item-->
<td class="chromeBorder" width="22%" onclick='sH("miniacField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("miniacField")' class="guage">
                    <fieldset id="miniacField" align="center" class="hide">
                        <legend onclick='sH("miniacField")'>Min IAC</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="miniac" name="miniac" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item-->
<td class="chromeBorder" width="22%" onclick='sH("tiField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("tiField")' class="guage">
                    <fieldset id="tiField" align="center" class="hide">
                        <legend onclick='sH("tiField")'>Target Idle</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="targetidle" name="targetidle" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item-->
  </tr>
<!--(1.1) end set of 3-->
<tr>
<!--(3) set of 3-->
<td class="chromeBorder" width="22%" onclick='sH("sparkadvField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("sparkadvField")' class="guage">
                    <fieldset id="sparkadvField" align="center" class="hide">
                        <legend onclick='sH("sparkadvField")'>Spark Advance</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="sparkadvance" name="sparkadvance" value="0" readonly><br/><b style="margin-bottom:-50px;">°deg</b>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item-->
<td class="chromeBorder" width="22%" onclick='sH("knockField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("knockField")' class="guage">
                    <fieldset id="knockField" align="center" class="hide">
                        <legend onclick='sH("knockField")'>Knock Count</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="knock" name="knock" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item-->
<td class="chromeBorder" width="22%" onclick='sH("retardField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("retardField")' class="guage">
                    <fieldset id="retardField" align="center" class="hide">
                        <legend onclick='sH("retardField")'>Knock Retard</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="knockretard" name="knockretard" value="0" readonly><br/><b style="margin-bottom:-50px;">°deg</b>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--item-->
<td class="chromeBorder" width="22%" onclick='sH("f2")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f2")' class="guage">
                    <fieldset align="center" id="f2" class="hide">
                        <legend onclick='sH("f2")'>base inj p/w</legend>
                        <form align="center" style="margin-top:12px;">
                            <input type="number" step="1" id="injp" name="injp" value="0" readonly><br/><b style="margin-bottom:-50px;">(ms)</b>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!--end item-->
</tr>
<!--(4) set of 3-->
<tr>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("fe")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fe")'>
                    <fieldset align="center" id="fe">
                        <legend onclick='sH("fe")'>EVAP Duty Cycle</legend>
                        <form align="center">
                            <input type="number" step="1" id="evap" name="evap" value="0" readonly> %
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("bar")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("bar")'>
                    <fieldset align="center" id="bar">
                        <legend onclick='sH("bar")'>Baro Pressure</legend>
                        <form align="center">
                            <input type="number" step="0.1" id="baro" name="baro" value="0.0" readonly> v
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f3")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f3")'>
                    <fieldset align="center" id="f3">
                        <legend onclick='sH("f3")'>BLM cell#</legend>
                        <form align="center">
                            <input type="number" step="1" id="blm" name="blm" value="0" style="font-size:x-large;width:80px;" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("fd")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fd")'>
                    <fieldset align="center" id="fd">
                        <legend onclick='sH("fd")'>Fuel Pump(volts)</legend>
                        <form align="center">
                            <input type="number" step="0.1" id="fuelpumpv" name="fuelpumpv" value="0.0" readonly> v
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->

</tr>
<!--(4) end set of 3-->
<!--(5) set of 3-->
<tr>

<td class="chromeBorder" width="22%" onclick='sH("fa")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fa")'>
                    <fieldset align="center" id="fa">
                        <legend onclick='sH("fa")'>Map Sensor</legend>
                        <form align="center">
                            <input type="number" step="0.1" id="mapvolts" name="mapvolts" value="0.0" readonly> v
                            <input hidden type="number" step="0.1" id="mapkpa" name="mapkpa" value="0.0" readonly><!-- kpa-->
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f4")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f4")'>
                    <fieldset align="center" id="f4">
                        <legend onclick='sH("f4")'>O2 bank L</legend>
                        <form align="center">
                            <input type="number" step="0.01" id="o2bankL" name="o2bankL" value="0.00" readonly> v
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f5")' align="center">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f5")'>
                    <fieldset align="center" id="f5">
                        <legend onclick='sH("f5")'>st-ft(int)bank L</legend>
                        <form align="center">
                            <input type="number" step="0.01" id="stftbankL" name="stftbankL" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f6")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f6")'>
                    <fieldset align="center" id="f6">
                        <legend onclick='sH("f6")'>lt-ft(blm)bank L</legend>
                        <form align="center">
                            <input type="number" step="1" id="ltftbankL" name="ltftbankL" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->

</tr>
<!--(5) end set of 3-->
<!--(6) set of 3-->
<tr>

<td class="chromeBorder" width="22%" onclick='sH("runtimeField")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("runtimeField")'>
                    <fieldset id="runtimeField" align="center">
                        <legend onclick='sH("runtimeField")'>Engine Run Time</legend>
                        <form align="center">
                            <input type="number" step="1" id="runtime" name="runtime" value="0" readonly> sec
                            <input type="number" step="1" id="runtimelsb" name="runtime" value="0" readonly> sec
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f7")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f7")'>
                    <fieldset align="center" id="f7">
                        <legend onclick='sH("f7")'>o2 bank R</legend>
                        <form align="center">
                            <input type="number" step="0.01" id="o2bankR" name="o2bankR" value="0.00" readonly> v
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f8")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f8")'>
                    <fieldset align="center" id="f8">
                        <legend onclick='sH("f8")'>st-ft(int)bank R</legend>
                        <form align="center">
                            <input type="number" step="0.01" id="stftbankR" name="stftbankR" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("f9")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("f9")'>
                    <fieldset align="center" id="f9">
                        <legend onclick='sH("f9")'>lt-ft(blm)bank R</legend>
                        <form align="center">
                            <input type="number" step="1" id="ltftbankR" name="ltftbankR" value="0" readonly>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->

</tr>
<!--(6) end set of 3-->
<!--(6.1) set of 3-->
<tr>

<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("fb")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fb")'>
                    <fieldset align="center" id="fb">
                        <legend onclick='sH("fb")'>A/C</legend>
                        <form align="center">
                            <label for="actempf" style="color:yellow;">EVAP Sensor</label>
                            <br/>
                            <br/>
                            <input type="number" step="1" id="actempf" name="actempf" value="0" readonly>
                            <small style="color:yellow;">°f</small>
                            <br/>
                            <br/>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<!-- Item -->
<td class="chromeBorder" width="22%" onclick='sH("fb2")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("fb2")'>
                    <fieldset align="center" id="fb2">
                        <legend onclick='sH("fb2")'>A/C</legend>
                        <form align="center">
                            <label for="acpsi" style="color:yellow;">TRANSDUCER</label>
                            <br/>
                            <br/>
                            <input type="number" step="1" id="acpsi" name="acpsi" value="0" readonly>
                            <small style="color:yellow;">psi</small>
                            <input type="number" step="0.1" id="acv" name="acv" value="0.0" readonly>
                            <small style="color:yellow;">V</small>
                            <br/>
                            <br/>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>

<!-- item HIDDEN -->
<td class="chromeBorder" width="5%" id="clutchbrake" onclick='sH("cb")'> 
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td id="cb" onclick='sH("cb")'>
                    <fieldset align="center" id="clutchdiv">
                        <legend onclick='sH("cb")'>Clutch</legend>
                        <form align="center">
                            <label class="switch" for="clutchpressed">
                                <input type="checkbox" id="clutchpressed" disabled/>
                                <span class="slider round"></span>
                            </label>
                        </form>
                    </fieldset>
                    <fieldset align="center" id="tcc">
                        <legend onclick='sH("cb")'>TCC Brake</legend>
                        <form align="center">
                            <label class="switch" for="brakepressed">
                                <input type="checkbox" id="brakepressed" disabled/>
                                <span class="slider round"></span>
                            </label>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>

<td class="chromeBorder" width="22%" onclick='sH("b9")'>
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr>
                <td onclick='sH("b9")'>
                    <fieldset align="center" id="b9">
                        <legend onclick='sH("b9")'>BLM Reset</legend>
                        <form align="center">
                            <button id="resetBlmBtn" class="btn resBtn" disabled>Reset BLM Value</button>
                        </form>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
    
</tr>
<!--(6.2) end set of 3-->
  </table>
</td><!-- outer table -->
</tr>
</table>
<br>
<!-- End Dash -->
</div>
<!-- main div -->

<!--/* ************************************************ EngineData ******** */-->
<div id="engTab" align="center" hidden>
    <fieldset id="engtb" class="hide">
        <legend class="btn tab" onclick='sH("EngineData")'>Engine Data</legend>
        <div id="EngineData" title="Engine Stats" name="EngineData" class="data" align="center">
    Engine Information.
        </div>
    </fieldset>
    <br/>
    <br/>
</div>
<!-- Trans div -->
<!--/* ************************************************ TransData ******** */-->
<div id="TransTab" align="center" hidden>
    <fieldset id="trms" class="hide">
        <legend class="btn tab" onclick='sH("TransData")'>Transmission Data</legend>
        <div id="TransData" title="Engine Stats" name="TransData" class="data" align="center">
    Automatic Transmission Information.
        </div>
    </fieldset>
    <br/>
    <br/>
</div>
<!-- Trans div -->
<!--/* ************************************************ Diagnostic Trouble Codes ****** */-->

<div id="MilTab" align="center" hidden>
    <fieldset id="dtc" class="hide">
        <legend onclick='sH("dtcdata")' style="cursor:default;width:auto;margin:0 auto;padding:0 60px;border-radius:2px;border-start-start-radius:20px;border-start-end-radius:20px;">
        Diagnostic Trouble Codes 
                                       &nbsp;&nbsp;&nbsp; &nbsp;
            <button id="resetMilBtn" onclick="resetMil()" class="btn resBtn" disabled>
            Reset MIL Codes
            </button>
        </legend>
        <div name="dtcdata" id="dtcdata" title="Diagnostic Trouble Codes" class="data" align="center">
    MIL CODES
        </div>
    </fieldset>
    <br/>
    <br/>
</div><!-- END [MIL] Tab -->
    
<!--/* ************************************************ Actuators ****** */-->
<div id="ActTab" align="center" hidden>
    <form id="actControls">
        <table width="100%" style="border:1px green dashed;border-radius:10%" id="actuators">
            <legend id="shact" name="shact" onclick='document.getElementById("actuators").hidden=!document.getElementById("actuators").hidden'>Actuators</legend>
            <tr align="center">
                <td width="50%" align="top" class="hide">
                    <table width="98%">
                        <tr align="center">
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>Reset All</legend>
                        <label for="resetall">Reset All</label>
                        <input type="radio" id="resetall" onclick="sendEcmCmd(ECM.EcmCmdNums.reset)" name="idle" value="resetall"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>Coolant Fan</legend>
                        <label for="fanon">fan on</label>
                        <input type="radio" id="fanon" onclick="sendEcmCmd(ECM.EcmCmdNums.fanon)" name="idle" value="fanon"><br>
                        <label for="fanoff">fan off</label>
                        <input type="radio" id="fanoff" onclick="sendEcmCmd(ECM.EcmCmdNums.fanoff)" name="idle" value="fanoff"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>MIL/SES</legend>
                        <label for="lighton">Light On</label>
                        <input type="radio" id="lighton" onclick="sendEcmCmd(ECM.EcmCmdNums.milon)" name="idle" value="lighton"><br>
                        <label for="lightoff">Light Off</label>
                        <input type="radio" id="lightoff" onclick="sendEcmCmd(ECM.EcmCmdNums.miloff)" name="idle" value="lightoff"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
  </tr>


  <tr align="center">
<td width="22%">
    <div>
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>Idle Speed</legend>
                        <label for="idle6">600</label>
                        <input type="radio" id="idle6" onclick="sendEcmCmd(ECM.EcmCmdNums.idle6)" name="idle" value="6"><br>
                        <label for="idle8">800</label>
                        <input type="radio" id="idle8" onclick="sendEcmCmd(ECM.EcmCmdNums.idle8)" name="idle" value="8"><br>
                        <label for="idle10">1000</label>
                        <input type="radio" id="idle10" onclick="sendEcmCmd(ECM.EcmCmdNums.idle10)" name="idle" value="10"><br>
                        <label for="idle12">1200</label>
                        <input type="radio" id="idle12" onclick="sendEcmCmd(ECM.EcmCmdNums.idle12)" name="idle" value="12"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>EVAP Purge</legend>
                        <label for="evapon">EVAP Purge On</label>
                        <input type="radio" id="evapon" onclick="sendEcmCmd(ECM.EcmCmdNums.evapon)" name="idle" value="evapon"><br>
                        <label for="evapoff">EVAP Purge Off</label>
                        <input type="radio" id="evapoff" onclick="sendEcmCmd(ECM.EcmCmdNums.evapoff)" name="idle" value="evapoff"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>A/C Relay</legend>
                        <label for="acon">A/C On</label>
                        <input type="radio" id="acon" onclick="sendEcmCmd(ECM.EcmCmdNums.acon)" name="idle" value="acon"><br>
                        <label for="acoff">A/C Off</label>
                        <input type="radio" id="acoff" onclick="sendEcmCmd(ECM.EcmCmdNums.acoff)" name="idle" value="acoff"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
  </tr>

  <tr align="center">
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>EGR Solenoid 1</legend>
                        <!--<form>-->
                        <label for="egr1on">EGR solenoid On</label>
                        <input type="radio" id="egr1on" onclick="sendEcmCmd(ECM.EcmCmdNums.egr1on)" name="idle" value="egr1on"><br>
                        <label for="egr1off">EGR solenoid Off</label>
                        <input type="radio" id="egr1off" onclick="sendEcmCmd(ECM.EcmCmdNums.egr1off)" name="idle" value="egr1off"><br>
                        <!--</form>-->
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>EGR Solenoid 2</legend>
                        <!--<form>-->
                        <label for="egr2on">EGR solenoid On</label>
                        <input type="radio" id="egr2on" onclick="sendEcmCmd(ECM.EcmCmdNums.egr2on)" name="idle" value="egr2on"><br>
                        <label for="egr2off">EGR solenoid Off</label>
                        <input type="radio" id="egr2off" onclick="sendEcmCmd(ECM.EcmCmdNums.egr2off)" name="idle" value="egr2off"><br>
                        <!--</form>-->
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
<td width="22%">
    <div align="center">
        <table border="1" cellpadding="0" bgcolor="#efefef" bordercolor="#c0c0c0" bordercolordark="#808080" bordercolorlight="#ffffff">
            <tr align="center">
                <td>
                    <fieldset>
                        <legend>EGR Solenoid 3</legend>
                        <label for="egr3on">EGR solenoid On</label>
                        <input type="radio" id="egr3on" onclick="sendEcmCmd(ECM.EcmCmdNums.egr3on)" name="idle" value="egr3on"><br>
                        <label for="egr3off">EGR solenoid Off</label>
                        <input type="radio" id="egr3off" onclick="sendEcmCmd(ECM.EcmCmdNums.egr3off)" name="idle" value="egr3off"><br>
                    </fieldset>
                </td>
            </tr>
        </table>
    </div>
</td>
  </tr>
                    </table>
                </td><!-- 1/2 td -->
            </tr>
        </table>
<!-- 100% outer table -->
    </form>
    <br/>
    <br/>
</div>
<!--End Actuators-->
<div id="ScanTab" align="center" hidden>
    <fieldset id="scanData" class="hide">
        <legend class="btn tab" onclick='sH("sdata")'>{Raw} Scan Data</legend>
        <div name="sdata" id="sdata" title="serial data" align="center"></div>
    </fieldset>
    <br/>
    <br/>
</div>
<br>
<div align="right" style="width:98%;border:none;padding:0;margin:-50px 0 0 0;height:0">
    <img title="1995 Camaro" alt="1995 Camaro" src="img/camaro1.png" style="margin-left:-108px;float:right;border:none;height:48px;width:100px;"/>
</div>
</div>
<!-- footer -->
<hr size="3">
<table width="95%" align="center">
<tr>
 <td class="hide">

        <!-- Copyright -->
        <script>
/* <!-- */
            function yr() {
                const d = new Date(); return '&#169;' + d.getFullYear() + '&#8482;T&#169;ReMeTaL';
            }
            /*document.write('<b style="color:#752975;cursor: pointer;line-height: 0;display:block !important;" title="COPYRIGHT ' + yr() + '" >' + yr() + "</b>");*/
            document.write('<small onclick=window.open("https://toremetal.com") style="color:#752929;text-align: left;position: fixed;z-index:8; bottom: 6px; left: 5px;cursor: pointer;line-height: 0;display:block !important;" title="COPYRIGHT ' + yr() + '" >' + yr() + "</small>");
/* --> */
        </script>
        <!-- End Copyright -->
 </td>
</tr>
</table><!-- end footer -->
</body>
<script>
/* <!-- */
  const DEBUG = 2;
  const ECM = new ECM278;
  const CMD_CONTROL = {
      lastCmd: 99,
      nextCmd: ECM.EcmCmdNums.vinDataCmdNum,
      sendCmd: ECM.EcmCmdNums.stopComCmdNum,
      noCmdNum:99,
      loopTime:512,/*1024*/
      readCount:0,
      cdTime:2000,
      delayTime:1500,/*3072*/
      vin:0,
      mil:0,
      eng:0,
      com:0
  };

    var COOKIE_PERMISSION=false;
    var myIntervalReader;
    var engineDataResponse;
    var milDataResponse;
    //var vinDataResponse;
    var EcmStream=[];
    
    document.getElementById("delayTimeValue").value=CMD_CONTROL.delayTime;
    document.getElementById("loopTimeValue").value=CMD_CONTROL.loopTime;
    document.getElementById("transmissionType").value=ECM.A_TRANSMISSION;
    document.getElementById("clutchdiv").hidden=ECM.A_TRANSMISSION;
    document.getElementById("manF").hidden=ECM.A_TRANSMISSION;
    document.getElementById("fantd").hidden=ECM.A_TRANSMISSION;
    document.getElementById("tranTabBtn").hidden=!ECM.A_TRANSMISSION;
    document.getElementById("tcc").hidden=!ECM.A_TRANSMISSION;
    document.getElementById("autoF").hidden=!ECM.A_TRANSMISSION;
    document.getElementById("autoTranTemp").hidden=!ECM.A_TRANSMISSION;

    async function readSerialData(myport) {
        EcmStream=[];
        while (myport.readable) {
            try {
                var reader = myport.readable.getReader();
                console.log("[READ-SERIAL-DATA]");
                try {
                    var {value, done} = await reader.read();
                    if (done) {break;}
                    if (value!="") {
                        /* ================================|
                        *  Convert and Display Serial Data.
                        * =============================== */
                        let conBit="";
                        let conBin="";
                        for (x in value) {
                            EcmStream.push(value[x]);
                            try {
                                conBit+=numericToAlpha(value[x]);
                                conBit+=",";
                                conBin+=numToBin(value[x]);
                                conBin+=",";
                            } catch(error) {
                                console.log("ERROR bitConvert:" + error.toString());
                            }//if (EcmStream.length>=parseInt(mSize)) {break;}
                        }
                        let curData=document.getElementById("sdata").innerHTML;
                        document.getElementById("sdata").innerHTML= CMD_CONTROL.readCount.toString() + ": " + conBit + "<br />" + curData;
                        //document.getElementById("sdata").innerHTML= CMD_CONTROL.readCount.toString() + ": " + value + "<br />" + CMD_CONTROL.readCount.toString() + ": " + conBit + "<br />" + CMD_CONTROL.readCount.toString() + ": " + conBin + "<br />" + curData;
                        CMD_CONTROL.readCount+=1;
                    }
                } catch(error) {
                    console.log("RETRY:[READ-SERIAL-DATA]");
                }
            } catch(error) {
                try {
                await reader.releaseLock();
                console.log("RELEASE LOCK:[READ-SERIAL-DATA]");
              } catch(err) {
                 console.log("RELEASE LOCK:[READ-SERIAL-DATA]");
              }
                break;
            }
        }
        //console.log("DATA: "+EcmStream);
        return EcmStream;
    }
    
    async function writeData(myport) {
        const writer = myport.writable.getWriter();
        try {
            if (DEBUG==2) {console.log("SEND CMD["+ ECM.CMDNAMES[CMD_CONTROL.sendCmd] +"]");}
            document.getElementById("wait").innerHTML="SENDING CMD[" + ECM.CMDNAMES[CMD_CONTROL.sendCmd] + "]<br/>Please Wait";
            CMD_CONTROL.lastCmd=CMD_CONTROL.sendCmd;
            //CMD_CONTROL.lastCmd=cmdNum;//CMD_CONTROL.sendCmd;
            await writer.write(ECM.EcmCmds[ECM.CMDNAMES[CMD_CONTROL.sendCmd]]);
            await writer.releaseLock();
            document.getElementById("sendingEcmCmd").checked=false;
        } catch(error) {
            console.error("writeData():", error);
            await writer.releaseLock();
        } finally {
        }
    }

    async function getSerialPortInfo() {
        try {
            const myport = await navigator.serial.requestPort();
            await myport.open({baudRate: 8192, dataBits: 8, stopBits: 1, parity: "none"});
            const {usbProductId, usbVendorId}=myport.getInfo();
            let portInfo="[usbProductId:]" + usbProductId + " [usbVendorId:]" + usbVendorId + "<br />";
            document.getElementById("sdata").innerHTML=portInfo;
            document.getElementById("loopTimeValue").disabled=true;
            document.getElementById("connect").disabled=true;
            document.getElementById("wait").hidden=false;
            document.getElementById("sendingEcmCmd").checked=true;
            cmdRunning(1);
            var firstrun=true;
            var proceed=true;
            wait();
            
            /* CONTINUOUS READ-WRITE SEQUENCE */
                myIntervalReader=setInterval(function () {
                    if (proceed) {
                        proceed=false;
                        if (CMD_CONTROL.lastCmd==ECM.EcmCmdNums.disconnectEcmCmdNum && document.getElementById("sendingEcmCmd").checked==false && document.getElementById("connected").checked==false) {
                            console.log("ECM: Dis-Connected!");
                            clearInterval(myIntervalReader);
                        } else if (document.getElementById("sendingEcmCmd").checked || document.getElementById("resettingMil").checked) {
                            if (wait()) {
                                if (document.getElementById("resettingMil").checked) {
                                    CMD_CONTROL.sendCmd=ECM.EcmCmdNums.resetMilCmdNum;
                                    document.getElementById("resettingMil").checked=false;
                                }
                                writeData(myport);
                            }
                        } else {
                            /*readSerialData(myport).then((value, done)=>{*/
                            readSerialData(myport).then((value, done)=>{
                                if (DEBUG==2) {console.log(value)};
                                let y=0;
                                for (x in value) {
                                    if (y+2<value.length && msgTest(value[x],value[y+1],value[y+2],ECM.EcmCmdStopComDataStream)) {
                                        if (CMD_CONTROL.sendCnt<2) {
                                            document.getElementById("connected").checked=true;
                                            CMD_CONTROL.com=1;
                                            CMD_CONTROL.sendCnt++;
                                            console.log("[stopCom]");
                                            sendEcmCmd(ECM.EcmCmdNums.stopComCmdNum);
                                        } else {
                                            CMD_CONTROL.sendCnt=0;
                                            console.log("[CONNECTED]");
                                            CMD_CONTROL.com=0;
                                            sendEcmCmd(CMD_CONTROL.nextCmd);
                                        }
                                    } else if (y+2<value.length && msgTest(value[x],value[y+1],value[y+2],ECM.EcmCmdVinDataStream)) {
                                        if (DEBUG==2) {console.log("[VIN-DATA]-RECEIVED");}
                                        //vinDataResponse = value.slice(3,20);
                                        let vinStr="";
                                        for (v=(y+3);v<(y+21);v++) {
                                            vinStr+=String.fromCharCode(value[v]);
                                        }
                                        document.getElementById("dashTitle").innerHTML="Dash (vin:" + vinStr + ")";
                                        CMD_CONTROL.vin=1;
                                        ECM.VIN=vinStr;
                                        if (firstrun) {
                                            /* while(!wait()){} */
                                            /* CMD_CONTROL.nextCmd=ECM.EcmCmdNums.engineDataCmdNum;
                                            sendEcmCmd(ECM.EcmCmdNums.stopComCmdNum); */
                                            sendEcmCmd(ECM.EcmCmdNums.engineDataCmdNum);
                                            while(!wait()){};
                                        } else {
                                            cmdRunning(0);
                                        }
                                    } else if (y+2<value.length && value.length>24 && msgTest(value[x],value[y+1],value[y+2],ECM.EcmCmdMilDataStream)) {
                                        if (DEBUG==2) {console.log("[MIL-DATA]-RECEIVED");}
                                        CMD_CONTROL.mil=1;
                                        let results=value.slice(parseInt(y),parseInt(y+25));
                                        let checkSums=results[24].toString();
                                        let tmpmilDataResponse=results.slice(0,24);
                                        let checkSumsTest=checkSum(tmpmilDataResponse);
                                        if (checkSumsTest==checkSums) {
                                            if (DEBUG==2) {console.log("[CHECKSUM]-ok");}
                                            milDataResponse = tmpmilDataResponse.slice(3,tmpmilDataResponse.length);
                                            readMIL(milDataResponse);
                                            cmdRunning(0);
                                            if (firstrun) {
                                                firstrun=false;
                                                CMD_CONTROL.sendCmd=ECM.EcmCmdNums.engineDataCmdNum;
                                            }
                                        } else {
                                            if (DEBUG==2) {console.log("[BAD CHECKSUM]");}
                                            sendEcmCmd(ECM.EcmCmdNums.milDataCmdNum);
                                        }
                                    } else if (y+2<value.length && value.length>=69 && msgTest(value[x],value[y+1],value[y+2],ECM.EcmCmdEngineDataStream)) {
                                        CMD_CONTROL.eng=1;
                                        if (DEBUG==2) {console.log("[ENGINE-DATA]-RECEIVED");}
                                        if (value.length==69){
                                            engineDataResponse=value.slice(3,value.length);
                                            readEngine(ECM.ENGINE_DATA, engineDataResponse).then((value)=>{
                                                if (firstrun) {
                                                    while(!wait()){}
                                                    sendEcmCmd(ECM.EcmCmdNums.milDataCmdNum);
                                                } else {
                                                    cmdRunning(0);
                                                }
                                            });
                                        } else {
                                            let chkTest=value.slice(0, parseInt(value.length-2));
                                            let checkSum2=checkSum(chkTest);
                                            let bchkTest=value[parseInt(value.length-1)];
                                            let results=value.slice( parseInt(y), parseInt(y+71));
                                            let checkSums=results[parseInt(results.length-1)];//.toString();
                                            let tmpengineDataResponse=results.slice(0,70);
                                            let checkSumsTest=checkSum(tmpengineDataResponse);
                                            console.log("CHECKSUM[" + checkSumsTest + "=" + checkSums + "] "+ (checkSumsTest==checkSums).toString());
                                        if (checkSumsTest==checkSums) {
                                            //if (DEBUG==2) {console.log("[CHECKSUM]-ok");}
                                            engineDataResponse=tmpengineDataResponse.slice(3,tmpengineDataResponse.length);
                                            readEngine(ECM.ENGINE_DATA, engineDataResponse).then((value)=>{
                                                if (firstrun) {
                                                    while(!wait()){}
                                                    sendEcmCmd(ECM.EcmCmdNums.milDataCmdNum);
                                                } else {
                                                    cmdRunning(0);
                                                }
                                            });
                                        } else {
                                            if (DEBUG==2) {console.log("[BAD CHECKSUM]");}
                                            CMD_CONTROL.eng=0;
                                        }
                                        }
                                    }
                                    y++;
                                }
                            });
                            
                            if (CMD_CONTROL.lastCmd==ECM.EcmCmdNums.vinDataCmdNum && CMD_CONTROL.vin==0) {
                                if (wait()) {sendEcmCmd(ECM.EcmCmdNums.vinDataCmdNum);}
                            } else if (CMD_CONTROL.lastCmd==ECM.EcmCmdNums.milDataCmdNum && CMD_CONTROL.mil==0) {
                                if (wait()) {sendEcmCmd(ECM.EcmCmdNums.milDataCmdNum);}
                            } else if (CMD_CONTROL.lastCmd==ECM.EcmCmdNums.engineDataCmdNum && CMD_CONTROL.eng==0) {
                                if (wait()) {sendEcmCmd(ECM.EcmCmdNums.engineDataCmdNum);}
                            } else if (CMD_CONTROL.lastCmd==ECM.EcmCmdNums.stopComCmdNum && CMD_CONTROL.com==0) {
                                if (wait()) {sendEcmCmd(ECM.EcmCmdNums.stopComCmdNum);}
                            }
                            if (document.getElementById("scan").value=="On") {
                                if (wait()) {
                                    CMD_CONTROL.eng=0;
                                    CMD_CONTROL.sendCmd=ECM.EcmCmdNums.engineDataCmdNum;
                                    document.getElementById("sendingEcmCmd").checked=true;
                                }
                            }
                        }
                        proceed=true;
                    }
                }, CMD_CONTROL.loopTime);
        } catch(error) {
            console.error("getSerialPortInfo():", error);
        }
     }

/* ================================|
 *  checkSum()-Check Sum Validation.
 * ------------------------------ */
    function checkSum(num) {
        let sum=0;
        for (c in num) {
            let nVal = (256-parseInt(num[c]));
            sum=sum+nVal;
        }
        return (sum%256);
    }

/* =====================================================|
 * [Send Requests to the ECM:] sendEcmCmd(cmdNum)
 *  Add new commands: <button onclick=sendEcmCmd(cmdNum)>
 *  const EcmCmd = {
 *      idle12:18,
 *      newCMD:NextNumber
 *  ....
 *  const EcmCmds = {
 *    ...,
 *    newCMD: new Uint8Array([value,value,value,value])
 * ------------------------------------------------- */
    function sendEcmCmd(cmdNum) {
        try {
            CMD_CONTROL.sendCmd=cmdNum;
            document.getElementById("sendingEcmCmd").checked=true;
        } catch(error) {
            console.log("ERROR [sendEcmCmd(" + cmdNum.toString() + ")]: " + error.toString());
        }
    }

/* =========================================================|
 *            disconnectECM()-Sends normal Mode
 * ------------------------------------------------------ */
    function disconnectECM() {
        document.getElementById("disconnect").disabled=true;
        document.getElementById("scan").disabled=true;
        document.getElementById("connected").checked=false;
        document.getElementById("resetMilBtn").disabled=true;
        document.getElementById("resetBlmBtn").disabled=true;
        document.getElementById("actControls").hidden=true;
        CMD_CONTROL.sendCmd=ECM.EcmCmdNums.disconnectEcmCmdNum;
        document.getElementById("sendingEcmCmd").checked=true;
    }

/* ===============================================|
 *  startStopRealTime()-Sends Engine Data Requests
 *  Continuously for realtime display data.
 *   note: doesn't get the data very quick.
 * -------------------------------------------- */
    function startStopRealTime() {
        if (document.getElementById("scan").value!="On") {
            document.getElementById("scan").value="On";
        } else {
            document.getElementById("scan").value="Rpt";
        }
    }

    function cmdRunning(d) {
        if (d==1) {
            document.getElementById("Mode1").disabled=true;
            document.getElementById("Mode4").disabled=true;
            document.getElementById("Mode2").disabled=true;
            document.getElementById("resetMilBtn").disabled=true;
            document.getElementById("resetBlmBtn").disabled=true;
            document.getElementById("scan").disabled=true;
            document.getElementById("wait").hidden=false;
        } else {
            document.getElementById("Mode1").disabled=false;
            document.getElementById("Mode4").disabled=false;
            document.getElementById("Mode2").disabled=false;
            document.getElementById("resetMilBtn").disabled=false;
            document.getElementById("resetBlmBtn").disabled=false;
            document.getElementById("disconnect").disabled=false;
            document.getElementById("scan").disabled=false;
            document.getElementById("actControls").hidden=false;
            document.getElementById("wait").hidden=true;
        }
    }
    
    /* Allows Modification of the stop-com & looping request cmd's,(sent to the serial port).*/
    function createCmd(e4){
        if (e4=="com") {
            return new Uint8Array([document.getElementById("s0").value, document.getElementById("s1").value, document.getElementById("s2").value, document.getElementById("s3").value]);
        } else {
            return new Uint8Array([document.getElementById("e0").value, document.getElementById("e1").value, document.getElementById("e2").value, document.getElementById("e3").value, document.getElementById("e4").value]);
        }    
    }

    /* Puts delay between serial writes to prevent data corruption.*/
    function wait() {
        let currentTime = Date.now();
        if (parseInt(currentTime-CMD_CONTROL.cdTime) >= parseInt(CMD_CONTROL.delayTime)) {
            CMD_CONTROL.cdTime=Date.now();
            return true;
        } else {
            return false;
        }
    }
    
    /* Function: msgTest(v,v,v,m) Compare serial data to request response message.*/
    function msgTest(v0,v1,v2,msg) {
        return v0.toString() + "," + v1.toString() + "," + v2.toString()==msg.id.toString() + "," + msg.messageLength.toString() + "," + msg.mode.toString();
    }

    /* Reset MIL light and dtc codes */
    function resetMil() {
      try {
        document.getElementById("resettingMil").checked=true;
      } catch(error) {
        console.log("ERROR resetMilCmd: " + error.toString());
      }
    }

    /* Voltage Formula */
    function setVolts(value) {
      if (value!="" && value>0) {
        return (parseInt(value)*5/255).toFixed(1);
      } else {return 0;}
    }

    /* Tempature (F) Formula */
    function setDegF(value) {
      if (value!="") {
        return (1.35*parseInt(value)-40).toFixed();
      } else {return 0;}
    }

    /* set element value */
    async function setValue(id, value) {
        try {
            if (value!="") {
                document.getElementById(id).value=value;
            }
        } catch(error) {
            console.error("setValue(id: " + id + ", value:" + value + ")", error);
        }
    }

    /* show hide elements */
    function sH(id) {
      document.getElementById(id).hidden=!document.getElementById(id).hidden;
    }

    function setSpeed(val) {
        CMD_CONTROL.loopTime=val;
        if (COOKIE_PERMISSION) {setCookie("speed",val*100,30);}
    }

    function rotateRPM() {
        let cRpm=parseInt(document.getElementById("rpm").value);
        if (cRpm>10000) {cRpm=10000;} else if (cRpm<0) {cRpm=0;}
        let r=(parseInt(cRpm)*0.03).toString() + "deg";
        document.getElementById("rpm-needle").style.rotate=r;
    }

    function rotateMPH() {
        let cMph=parseInt(document.getElementById("mph").value);
        if (cMph>105) {cMph=105;} else if (cMph<0) {cMph=0;}
        let r=(parseInt(cMph)*3).toString() + "deg";
        document.getElementById("mph-needle").style.rotate=r;
    }
    
    function selectTab(i) {
        document.getElementById("MainTab").hidden=true;
        document.getElementById("engTab").hidden=true;
        document.getElementById("TransTab").hidden=true;
        document.getElementById("ScanTab").hidden=true;
        document.getElementById("MilTab").hidden=true;
        document.getElementById("ActTab").hidden=true;
        document.getElementById(i).hidden=false;
    }

    function setTrans() {
        ECM.A_TRANSMISSION=!ECM.A_TRANSMISSION;
        document.getElementById("clutchdiv").hidden=!document.getElementById("clutchdiv").hidden;
        document.getElementById("tcc").hidden=!document.getElementById("tcc").hidden;
        document.getElementById("manF").hidden=!document.getElementById("manF").hidden;
        document.getElementById("autoF").hidden=!document.getElementById("autoF").hidden;
        document.getElementById("autoTranTemp").hidden=!document.getElementById("autoTranTemp").hidden;
        document.getElementById("fantd").hidden=!document.getElementById("fantd").hidden;
        document.getElementById("tranTabBtn").hidden=!document.getElementById("tranTabBtn").hidden;
    }

/* ---------------------------------------------|
 * Byte Converters (for translating serial data)
 *   numericToAlpha(0-255)=00-FF
 *   alphaToNumeric(00-FF)=0-255
 *      numToBin(0-255) 00000000-11111111
 * ------------------------------------------ */

 function numToBin(i) {
  let nBinary="";
  let tmpBinary="";
  let tmpBinary2="";
/*1*/   nBinary=(i%2).toFixed().toString();
      tmpBinary=i/2;
/*2*/      nBinary=parseInt(tmpBinary%2) + nBinary;
      tmpBinary2=tmpBinary/2;
/*3*/      nBinary=parseInt(tmpBinary2%2) + nBinary;
      tmpBinary=tmpBinary2/2;
/*4*/      nBinary=parseInt(tmpBinary%2) + nBinary;
      tmpBinary2=tmpBinary/2;
/*5*/      nBinary=parseInt(tmpBinary2%2) + nBinary;
      tmpBinary=tmpBinary2/2;
/*6*/      nBinary=parseInt(tmpBinary%2) + nBinary;
      tmpBinary2=tmpBinary/2;
/*7*/      nBinary=parseInt(tmpBinary2%2) + nBinary;
      tmpBinary=tmpBinary2/2;
/*8*/      nBinary=parseInt(tmpBinary%2) + nBinary;
      return nBinary;
 }

 function numericToAlpha(i) {
    let j=(parseInt(i)%16);
    let d=(parseInt(i)-parseInt(j))/16;
    var L=getVal(d);
    var R=getVal(j);
    return L + R;
 }

 function alphaToNumeric(l) {
  for (let i = 0; i < 256; i++) {
    let c=numericToAlpha(i);
    if (c==l) {
      return i;
    }
  }
  return -1;
 }

 function getVal(d) {
    if (parseInt(d) >=0 && parseInt(d) <=9) {
        return d.toString();
    } else {
        if (d==10) {
            return "A";
        } else if (d==11) {
            return "B";
        } else if (d==12) {
            return "C";
        } else if (d==13) {
            return "D";
        } else if (d==14) {
            return "E";
        } else if (d==15) {
            return "F";
        } else {
            return "-1"
        }
    }
 }
 /* End:Byte Converters */

/* full screen*/
var elem = document.documentElement;
function openFullscreen() {
  if (elem.requestFullscreen) {
    elem.requestFullscreen();
  } else if (elem.webkitRequestFullscreen) { /* Safari */
    elem.webkitRequestFullscreen();
  } else if (elem.msRequestFullscreen) { /* IE11 */
    elem.msRequestFullscreen();
  }
}

function closeFullscreen() {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.webkitExitFullscreen) { /* Safari */
    document.webkitExitFullscreen();
  } else if (document.msExitFullscreen) { /* IE11 */
    document.msExitFullscreen();
  }
}

  function getFScreen() {
    if (document.fullscreenElement) {
      closeFullscreen();
    } else {
      openFullscreen();
    }
  }
 /*end full screen*/

/* Transmission Gear Position Controller */
var automatic = document.getElementById("gear");
var manual = document.getElementById("manualGear");
var automaticGear = document.getElementById("prndlDis");
var manualGear = document.getElementById("manualDis");

automatic.oninput = function() {
    manual.value=this.value;
    setLabel();
}

manual.oninput = function() {
    automatic.value=this.value;
    setLabel();
}

function setLabel() {
  if (automatic.value==0) {
    automaticGear.innerHTML = "LOW";
  } else if (automatic.value==1) {
    automaticGear.innerHTML = "D2";
  } else if (automatic.value==2) {
    automaticGear.innerHTML = "D3";
  } else if (automatic.value==3) {
    automaticGear.innerHTML = "D4";
  } else if (automatic.value==4) {
    automaticGear.innerHTML = "N";
  } else if (automatic.value==5) {
    automaticGear.innerHTML = "R";
  } else if (automatic.value==6) {
    automaticGear.innerHTML = "P";
  } else {
    automaticGear.innerHTML = "P";
  }
  if (manual.value==0) {
    manualGear.innerHTML = "1st";
  } else if (manual.value==1) {
    manualGear.innerHTML = "2nd";
  } else if (manual.value==2) {
    manualGear.innerHTML = "3rd";
  } else if (manual.value==3) {
    manualGear.innerHTML = "4th";
  } else if (manual.value==4) {
    manualGear.innerHTML = "5th";
  } else if (manual.value==5) {
    manualGear.innerHTML = "R";
  } else if (manual.value==6) {
    manualGear.innerHTML = "N";
  } else {
    manualGear.innerHTML = "N";
  }
}
/* END Transmission Gear Position Controller */

/* COOKIES */
function setCookie(cname,cvalue,exdays) {
  const d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  let expires = "expires=" + d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

function checkCookie() {
  let allowCookies = getCookie("allowCookies");
  if (allowCookies == "" || allowCookies == null) {
     allowCookies = confirm("Do You Give Permission to uses Cookies to Save Changes to Settings? [Permission & Cookies Saved for 30 days.]");
     setCookie("allowCookies", allowCookies, 0);
     COOKIE_PERMISSION=allowCookies;
  } else if (allowCookies) {
      COOKIE_PERMISSION=true;
      let speed = getCookie("speed");
      if (speed != "" && speed != null) {
          document.getElementById("loopTimeValue").value=speed;
          CMD_CONTROL.loopTime=speed;
      }
  }
}
/* END COOKIES */

    /* SERIAL DATA DECODERS */
    async function readVIN(value) {
        let vinStr="";
        for (v in value) {
            vinStr+=String.fromCharCode(value[v]);
        }
        document.getElementById("dashTitle").innerHTML="Dash (vin:" + vinStr + ")";
        CMD_CONTROL.vin=1;
        document.getElementById("wait").hidden=true;
        cmdRunning(0);
    }
    
    async function readMIL(value) {
        let dtcStr="";
        for (let k=0;k<=20;k++) {
            if (DEBUG==1) {console.log("value["+k+"]:" + value[k]);}
            if (k==0) {
                setValue("actcodes",value[k]);
            } else if (value[k]!=0) {
                let dtcCode=numToBin(value[k]);
                let tc=7;
                for (t in dtcCode) {
                  try {
                    if (dtcCode[t]=="1") {
                        let MilCode=ECM.DTCCODES["code" + (k+1).toString() + tc.toString()];
                        if (DEBUG==2) {console.log("byte["+k+"]:" + dtcCode + " bit:" + tc.toString() +" [MilCode]" + MilCode);}
                        if (MilCode!="") {
                            dtcStr+=MilCode + "<br/>";
                        }
                    }
                    
                  } catch(error) {
                    console.error("ERROR (value[" + k + "]:" + value[k] +" dtcCode:"+ dtcCode + ") "+" bit:"+tc, error);
                  }
                    tc--;
                }
            }
        }
        document.getElementById("dtcdata").innerHTML=dtcStr;
    }
  
/* ===================================================================|
 *  [function] readEngine(Decode Const:ecmFileConst, byteArray: value)
 *   var ecmFileConst:Pointer to the address of the byte compare const.
 *   var value:(byteArray) stream of bytes to decode.
 * ----------------------------------------------------------------  */
async function readEngine(ecmFileConst,/*byteArray*/ value) {
    let injector=-1;
    let y=0;/*parseInt(g);*/
    let tranStr="";
    let autoStr="";
    if (DEBUG==2) {console.log("Set-Engine");}
    if (DEBUG==1) {console.log(value);}
    let BYTEID = Object.keys(ecmFileConst);
    for (z in ecmFileConst) {
        try {
            //if (DEBUG==1) {console.log("value[" + y + "]:" + value[y]);}
            if (BYTEID[y]=="length" || y>ecmFileConst.length || y>value.length) {
                break;
            } else if (ecmFileConst[z]==ecmFileConst.byte3 || ecmFileConst[z]=="coolanttempf") {

                /* ===== "coolant temp f" === */

                if (value[y]!="" && value[y]>=0) {
                    let newVal=(1.35*parseInt(value[y])-40).toFixed();
                    setValue(ecmFileConst[z], newVal);
                } else {
                    setValue(ecmFileConst[z], 0);
                }
                //setValue(ecmFileConst[z], setDegF(value[y]));
            } else if (ecmFileConst[z]==ecmFileConst.byte10 || ecmFileConst[z]=="tempf") {

              /* ===== "Auto-Trans temp f" === */
              //if (ECM.A_TRANSMISSION) {
                if (value[y]!="" && value[y]>=0) {
                    let newVal=(1.35*parseInt(value[y])-40).toFixed();
                    setValue(ecmFileConst[z], newVal);
                } else {
                    setValue(ecmFileConst[z], 0);
                }
                //setValue(ecmFileConst[z], setDegF(value[y]));
              //}
            } else if (ecmFileConst[z]==ecmFileConst.byte5 || ecmFileConst[z]=="airtempf") {

                /* ========= ManifoldAirTemp ================= */
                setValue(ecmFileConst[z], ECM.ManifoldAirTempF[value[y]]);

            } else if (ecmFileConst[z]==ecmFileConst.byte12) {
                /* ===== "targetidle" === */
                setValue(ecmFileConst[z], (12.5*value[y]).toFixed());
            } else if (ecmFileConst[z]==ecmFileConst.byte14) {
                /* ===== "rpm24x" === */
                if (value[y]!=255) {
                    setValue(ecmFileConst[z], (1310720/parseInt(value[y])).toFixed());
                } else {setValue(ecmFileConst[z], 0);}
                if (DEBUG==3) {console.log("rpm24x: 1310720/value[y]:" + (1310720/value[y]).toFixed());}
            } else if (ecmFileConst[z]==ecmFileConst.byte15) {
              //if (ECM.A_TRANSMISSION) {
                let gear=numToBin(value[y]);
                let gStr="";
                let tc=7;
                for (t in gear) {
                     if (gear[t]=="1") {
                         document.getElementById("gear").value=parseInt(tc);
                         document.getElementById("manualGear").value=parseInt(tc);
                     }
                     tc--;
                }
                setLabel();
              //}
            } else if (ecmFileConst[z]=="mapvolts" || ecmFileConst[z]==ecmFileConst.byte6 || ecmFileConst[z]=="baro" || ecmFileConst[z]==ecmFileConst.byte7 || ecmFileConst[z]=="throttlev" || ecmFileConst[z]==ecmFileConst.byte8) {
                setValue(ecmFileConst[z], setVolts(value[y]));
            } else if (ecmFileConst[z]=="battery" || ecmFileConst[z]==ecmFileConst.byte4 || ecmFileConst[z]=="airfuel" || ecmFileConst[z]==ecmFileConst.byte20 || ecmFileConst[z]=="fuelpumpv" || ecmFileConst[z]==ecmFileConst.byte31) {
                try {
                    setValue(ecmFileConst[z], (parseInt(value[y])/10).toFixed(1));
                } catch(error) {
                    console.log("ERROR(" + ecmFileConst[z] + "): " + error);
                }
            } else if (ecmFileConst[z]=="knockretard" || ecmFileConst[z]==ecmFileConst.byte17) {
                setValue(ecmFileConst[z], (45*parseInt(value[y])/256).toFixed());
            } else if (ecmFileConst[z]==ecmFileConst.byte18) {
                let transState=numToBin(value[y]);
                let tc=7;
                for (t in transState) {
                     if (transState[t]=="1") {
                         if (tc==0) {
                             tranStr+="--EGR SOLENOID 1 ON<br/>";
                         } else if (tc==1) {
                             tranStr+="--EGR SOLENOID 2 ON<br/>";
                         } else if (tc==2) {
                             tranStr+="--EGR SOLENOID 3 ON<br/>";
                         }
                     }
                     tc--;
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte21 && injector==-1) {
                injector=value[y];
            } else if (ecmFileConst[z]==ecmFileConst.byte22) {
                let newVal=((parseInt(injector)*256+value[y])/65.536).toFixed();
                setValue(ecmFileConst[z], newVal);
            } else if (ecmFileConst[z]=="o2bankR" || ecmFileConst[z]==ecmFileConst.byte25 || ecmFileConst[z]=="o2bankL" || ecmFileConst[z]==ecmFileConst.byte28) {
                setValue(ecmFileConst[z], (value[y]*4.42).toFixed()*0.001);
            } else if (ecmFileConst[z]==ecmFileConst.byte32 || ecmFileConst[z]=="actempf") {
                try {
                    setValue(ecmFileConst[z],ECM.ACEVAP[parseInt(value[y])]);
                } catch(error) {
                    console.log("ERROR (AC-EVAP):" + error);
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte33) {
            } else if (ecmFileConst[z]==ecmFileConst.byte34 || ecmFileConst[z]=="sparkadvance") {
                setValue(ecmFileConst[z], (value[y]*90/256).toFixed());
            } else if (ecmFileConst[z]=="throttlep" || ecmFileConst[z]==ecmFileConst.byte35) {
                setValue(ecmFileConst[z], (value[y]/2.55).toFixed());
            } else if (ecmFileConst[z]==ecmFileConst.byte36) {
                let bitsSPI=numToBin(value[y]);
                let tc=7;
                tranStr+="<b style='color:yellow;'>SPI INPUT DISCRETES STATUS REGISTER #3:</b><br/><small style='color:aqua;'>(QDM FAULT CANNOT BE USED UNLESS ALL QDM OUTPUTS ARE CONTROLLED FOR TESTING)</small><br/>";
                for (t in bitsSPI) {
                     if (tc==0 && bitsSPI[t]=="1") {
                         tranStr+="--BLOCK LEARN ENABLED<br/>";
                     } else if (tc==1 && bitsSPI[t]=="1") {
                         tranStr+="--A.I.R. DIVERT FLAG<br/>";
                     } else if (tc==2) {
                         if (bitsSPI[t]=="1") {
                         tranStr+="LEFT, FRONT OXYGEN SENSOR [READY]<br/>";
                         } else if (bitsSPI[t]=="0") {
                         tranStr+="LEFT, FRONT OXYGEN SENSOR [NOT READY]<br/>";
                         }
                     } else if (tc==3) {
                         if (bitsSPI[t]=="1") {
                             tranStr+="RIGHT, REAR OXYGEN SENSOR [READY]<br/>";
                         } else if (bitsSPI[t]=="0") {
                             tranStr+="RIGHT, REAR OXYGEN SENSOR [NOT READY]<br/>";
                         }
                     } else if (tc==4 && bitsSPI[t]=="1") {
                         tranStr+="--CLOSED LOOP A/F MODE ENABLED<br/>";
                     } else if (tc==5 && bitsSPI[t]=="1") {
                         tranStr+="--QDM FAULT 3 DETECTED<br/>";
                     } else if (tc==6 && bitsSPI[t]=="1") {
                         tranStr+="--QDM FAULT 4 DETECTED<br/>";
                     } else if (tc==7 && bitsSPI[t]=="1") {
                         tranStr+="--QDM FAULT 5 DETECTED<br/>";
                     }
                     tc--;
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte37 || ecmFileConst[z]=="ALDL-STATUS") {
                let bitsALDL=numToBin(value[y]);
                let tc=7;
                
                let title=true;
                
                for (t in bitsALDL) {
                     if (tc==0 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="-CAM PULSE SEEN<br/>";
                     } else if (tc==1 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="-KICKDOWN PATTERN ACTIVE/NOT IDLE(Manual)<br/>";
                     } else if (tc==2 && bitsALDL[t]=="0") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="--QDM INJECTOR FAULT<br/>";
                     } else if (tc==3 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="P/N<br/>";
                     } else if (tc==4 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="A/C REQUESTED<br/>";
                     } else if (tc==5 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="A/C CLUTCH RELAY ON<br/>";
                     } else if (tc==6 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="--QDM FAULT 1 Detected<br/>";
                     } else if (tc==7 && bitsALDL[t]=="1") {
                         if (title) {tranStr+="<b style='color:yellow;'>ALDL STATUS</b><br/>";title=false;}
                         tranStr+="--QDM FAULT 2 Detected<br/>";
                     }
                     tc--;
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte38 || ecmFileConst[z]=="fanOnOff") {
                let bits=numToBin(value[y]);
                let tc=7;
                let tccStr="";
                let title=true;
                for (t in bits) {
                    if (tc==0 && bits[t]=="1") {
                        document.getElementById("fanOnOff").checked=true;
                    } else if (tc==0 && bits[t]=="0") {
                        document.getElementById("fanOnOff").checked=false;
                    } else if (tc==2 && bits[t]=="1") {
                        if (title) {autoStr+="<b style='color:yellow;'>TRANSMISSION STATUS</b><br/>";title=false;}
                        autoStr+="-NORMAL/SNOW (X1R)<br/>";
                    } else if (tc==4) {
                        tccStr=bits[t];
                    } else if (tc==5) {
                        if (title) {autoStr+="<b style='color:yellow;'>TRANSMISSION STATUS</b><br/>";title=false;}
                        tccStr+=bits[t];
                        if (tccStr=="11") {
                            autoStr+="Trans in Gear: 1<br/>";
                        } else if (tccStr=="01") {
                            autoStr+="Trans in Gear: 2<br/>";
                        } else if (tccStr=="00") {
                            autoStr+="Trans in Gear: 3<br/>";
                        } else if (tccStr=="10") {
                            autoStr+="Trans in Gear: 4<br/>";
                        }
                    } else if (tc==7 && bits[t]=="1") {
                        if (title) {autoStr+="<b style='color:yellow;'>TRANSMISSION STATUS</b><br/>";title=false;}
                        autoStr+="-TCC ENABLE SOL<br/>";
                    }
                    tc--;
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte39) {
                /* Not Used */
            } else if (ecmFileConst[z]==ecmFileConst.byte40 || ecmFileConst[z]=="rpm") {
                setValue(ecmFileConst[z], (12.5*value[y]).toFixed());
                if (DEBUG==3) {console.log("12.5*value[y]:" + (12.5*value[y]).toFixed());}
            } else if (ecmFileConst[z]==ecmFileConst.byte41 || ecmFileConst[z]=="acpsi") {
                let newValPsi=(parseInt(value[y])*1.875-18.75).toFixed();
                document.getElementById("acpsi").value=newValPsi;
                let newValV=(parseInt(value[y])*5/255).toFixed(1);
                document.getElementById("acv").value=newValV;
            } else if (ecmFileConst[z]==ecmFileConst.byte42)/*"A-C STATUS"*/ {
                let bitsAC=numToBin(value[y]);
                let tc=7;
                let title=true;
                for (t in bitsAC) {
                     if (bitsAC[t]=="0" && tc==0) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C CLUTCH ENABLED<br/>";
                     } else if (bitsAC[t]=="1" && tc==1) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C WOT LOGIC USING N/V TIME THRESHOLD<br/>";
                     } else if (bitsAC[t]=="1" && tc==2) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C PRESSURE REQUESTS FAN<br/>";
                     } else if (bitsAC[t]=="1" && tc==4) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C LOAD SWAP (A/C FORCED OFF)<br/>";
                     } else if (bitsAC[t]=="1" && tc==5) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C OLD (6.25 MS.) 3RD GEAR FLAG<br/>";
                     } else if (bitsAC[t]=="1" && tc==6) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C EVAP TEMPERATURE CLUTCH DISABLE<br/>";
                     } else if (bitsAC[t]=="1" && tc==7) {
                         if (title) {tranStr+="<b style='color:yellow;'>A/C STATUS</b><br/>";title=false;}
                         tranStr+="--A/C CFIV FREON LOW CLUTCH DISABLE<br/>";
                     }
                     tc--;
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte43) {
                let brakes=numToBin(value[y]);
                let tc=7;
                for (t in brakes) {
                     if (tc==5) {
                         if (brakes[t]=="1") {
                             document.getElementById("brakepressed").checked=true;
                         } else {
                             document.getElementById("brakepressed").checked=false;
                         }
                         break;
                     }
                     tc--;
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte44) {
/*******************************************************************************
* PRNDL DECODE TABLE FOR F CARS                                               *
* ----------------------------------                                          *
*    INP A   INP B   INP C    PRNDL POSITION                             *
*    -----   -----   -----    --------------                             *
*      0       1       1      DRIVE 4                                    *
*      1       0       0      DRIVE 2                                    *
*      1       1       0      REVERSE                                    *
*      1       0       0      LOW                                        *
*      0       1       0      NEUTRAL                                    *
*      0       1       0      PARK                                       *
*      0       0       1      DRIVE 3                                    *
*******************************************************************************/
                let gear=numToBin(value[y]);
                let gStr="";
                let tc=7;
                for (t in gear) {
                    if (tc==5 && gear[t]=="0") {
                        tranStr+="INJECTOR FAULT<br/>";
                    }
                    if (ECM.A_TRANSMISSION==false) {
                         if (tc==3 && gear[t]=="1") {
                             document.getElementById("clutchpressed").checked=true;
                         } else if (tc==3 && gear[t]=="0") {
                             document.getElementById("clutchpressed").checked=false;
                         }
                    } else if (tc>1 && tc<6) {
                         if (tc==2) {
                             gStr=gear[t];
                         } else if (tc==3) {
                             gStr+=gear[t];
                         } else if (tc==4) {
                             gStr+=gear[t];
                         }
                     }
                     tc--;
                }
                
                if (gStr=="011") {/*D4*/
                    document.getElementById("prndlDis2").innerHTML=" (Drive-4)";
                    document.getElementById("manualDis2").innerHTML=" (4th)";
                } else if (gStr=="100") {/*D2*/
                    document.getElementById("prndlDis2").innerHTML=" (Low / Drive-2)";
                    document.getElementById("manualDis2").innerHTML=" (1st / 2nd)";
                } else if (gStr=="110") {/*Reverse*/
                    document.getElementById("prndlDis2").innerHTML=" (Reverse)";
                    document.getElementById("manualDis2").innerHTML=" (Reverse)";
                } else if (gStr=="001") {/*D3*/
                    document.getElementById("prndlDis2").innerHTML=" (Drive-3)";
                    document.getElementById("manualDis2").innerHTML=" (3rd)";
                } else if (gStr=="010") {/*Park Nuetral*/
                    document.getElementById("prndlDis2").innerHTML=" (Park/Neutral)";
                    document.getElementById("manualDis2").innerHTML=" (Park/Neutral)";
                }
            } else if (ecmFileConst[z]==ecmFileConst.byte45)/*MIL CODES*/ {
                if (value[y]>0) {
                    document.getElementById("checkEngineLight").hidden=false;
                } else {document.getElementById("checkEngineLight").hidden=true;}
                setValue(ecmFileConst[z], value[y]);
                if (DEBUG==3) {console.log("setValues-["+ z.toString() +"]:" + ecmFileConst[z] + value[y].toString());}
            } else if (ecmFileConst[z]==ecmFileConst.byte46) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="TCC DUTY CYCLE: " + ((value[y]/2.55).toFixed(2)).toString() + " %<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte47) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FORCE MOTOR DUTY CYCLE: " + (value[y]/2.55).toFixed(2) + " %<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte48) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="3->2 DOWNSHIFT SOLENOID DUTY CYCLE: " + (value[y]/2.55).toFixed(2) + " %<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte49) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="AMOUNT OF TCC SLIPPAGE MSB: " + value[y] + "<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte50) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="AMOUNT OF TCC SLIPPAGE LSB: " + (value[y]/8).toFixed(2) + " (RPM)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte51) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FILTERED OUTPUT SHAFT SPEED MSB: " + value[y] + "<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte52) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FILTERED OUTPUT SHAFT SPEED LSB: " + (value[y]/8).toFixed(2) + " (RPM)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte53) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FILTERED INPUT SHAFT SPEED MSB: " + value[y] + "<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte54) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FILTERED INPUT SHAFT SPEED LSB: " + (value[y]/8).toFixed(2) + " (RPM)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte55) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="COMMANDED PRESSURE: " + value[y] + " Psi<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte56) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FORCE MOTOR COMMAND CURRENT: " + (value[y]/51).toFixed(1) + " (AMPS)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte57) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="FORCE MOTOR ACTUAL CURRENT: " + (value[y]/51).toFixed(1) + " (AMPS)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte58) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="CURRENT ADAPTIVE MODIFIER: " + value[y] + "<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte59) {
              //if (ECM.A_TRANSMISSION) {
                let cCell=value[y];
                if (cCell>=0 && cCell<=16) {
                    autoStr+="CURRENT ADAPTIVE CELL: " + (cCell/0.16).toFixed() + " %<br/>";
                } else {
                    autoStr+="CURRENT ADAPTIVE CELL: Invalid Reading<br/>";
                }
              //}
            } else if (ecmFileConst[z]==ecmFileConst.byte60) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="1->2 SHIFT ERROR: " + (value[y]/40).toFixed() + " (Sec)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte61) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="2->3 SHIFT ERROR: " + (value[y]/40).toFixed() + " (Sec)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte62) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="1->2 SHIFT TIME: " + (value[y]/40).toFixed() + " (Sec)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte63) {
                //if (ECM.A_TRANSMISSION) {
                    autoStr+="2->3 SHIFT TIME: " + (value[y]/40).toFixed() + " (Sec)<br/>";
                //}
            } else if (ecmFileConst[z]==ecmFileConst.byte64) {
              //if (ECM.A_TRANSMISSION) {
                let transState=numToBin(value[y]);
                let tc=7;
                let title=true;
                for (t in transState) {
                     if (transState[t]=="1") {
                         if (title) {autoStr+="<b style='color:yellow;'>TRANS SHIFT ADAPT STATUS</b><br/>";title=false;}
                         if (tc=="0" || tc==0) {
                             autoStr+="--ADAPTABLE SHIFT IN PROGRESS<br/>";
                         } else if (tc=="1" || tc==1) {
                             autoStr+="--LOW BARO FOR ADAPTABLE SHIFT<br/>";
                         } else if (tc=="2" || tc==2) {
                             autoStr+="--LONG DLY BEFORE SHIFT FOR ADAPT<br/>";
                         } else if (tc=="3" || tc==3) {
                             autoStr+="--LONG SHIFT BEFORE ADAPT<br/>";
                         } else if (tc=="4" || tc==4) {
                             autoStr+="--RUN THROUGH ADAPT<br/>";
                         } else if (tc=="5" || tc==5) {
                             autoStr+="--STANDARD ADAPT<br/>";
                         } else if (tc=="6" || tc==6) {
                             autoStr+="--LAST LOOP WAS STANDARD ADAPT<br/>";
                         } else if (tc=="7" || tc==7) {
                             autoStr+="--TEMPMW,HOTMODE SHADOW BIT<br/>";
                         }
                     }
                     tc--;
                }
              //}
            } else if (ecmFileConst[z]==ecmFileConst.byte65) {
              //if (ECM.A_TRANSMISSION) {
                let transState=numToBin(value[y]);
                let tc=7;
                let title=true;
                for (t in transState) {
                     if (transState[t]=="1") {
                         if (title) {autoStr+="<b style='color:yellow;'>TRANS ADAPTIVE SHIFT CONDITION VIOLATIONS</b><br/>";title=false;}
                         if (tc=="0" || tc==0) {
                             autoStr+="--PATTERN IS NOT NORMAL<br/>";
                         } else if (tc=="1" || tc==1) {
                             autoStr+="--TRANSMISSION TEMPERATURE OUT OF RANGE<br/>";
                         } else if (tc=="2" || tc==2) {
                             autoStr+="--THROTTLE OUT OF RANGE<br/>";
                         } else if (tc=="3" || tc==3) {
                             autoStr+="--BRAKE PRESSURE USED THIS SHIFT<br/>";
                         } else if (tc=="4" || tc==4) {
                             autoStr+="--PRNDL IS LO OR D2<br/>";
                         } else if (tc=="5" || tc==5) {
                             autoStr+="--LONG SHIFT DELAY TIME<br/>";
                         } else if (tc=="6" || tc==6) {
                             autoStr+="--FILL/TORQUE PHASES WERE TOO QUICK<br/>";
                         } else if (tc=="7" || tc==7) {
                             autoStr+="--THROTTLE CHANGED TOO MUCH<br/>";
                         }
                     }
                     tc--;
                }
              //}
            } else if (ecmFileConst[z]==ecmFileConst.byte66) {
              //if (ECM.A_TRANSMISSION) {
                let transState=numToBin(value[y]);
                let tc=7;
                let title=true;
                for (t in transState) {
                     if (transState[t]=="1") {
                         if (title) {autoStr+="<b style='color:yellow;'>TCC STATUS</b><br/>";title=false;}
                         if (tc=="0" || tc==0) {
                             autoStr+="--RANGE CONTINGENCY FORCED TCC OFF<br/>";
                         } else if (tc=="1" || tc==1) {
                             autoStr+="--TR. TMP. LIMIT FORCED TCC OFF<br/>";
                         } else if (tc=="2" || tc==2) {
                             autoStr+="--COOLANT TMP. LIM. FORCED TCC OFF<br/>";
                         } else if (tc=="3" || tc==3) {
                             autoStr+="--BRAKE ON FORCED TCC OFF<br/>";
                         } else if (tc=="4" || tc==4) {
                             autoStr+="--NEGATIVE DELT. THROT. FORCED TCC OFF<br/>";
                         } else if (tc=="5" || tc==5) {
                             autoStr+="--DOWNSHIFT CONTINGENCY FORCED TCC OFF<br/>";
                         } else if (tc=="6" || tc==6) {
                             autoStr+="--AC CONTINGENCY FORCED TCC OFF<br/>";
                         } else if (tc=="7" || tc==7) {
                             autoStr+="--SLIP CONTINGENCY FORCED TCC OFF<br/>";
                         }
                     }
                     tc--;
                }
              //}
            } else if (ecmFileConst[z]==ecmFileConst.byte67) {
              //if (ECM.A_TRANSMISSION) {
                let transState=numToBin(value[y]);
                let tc=7;
                for (t in transState) {
                     if (transState[t]=="1") {
                         if (tc=="0" || tc==0) {
                             autoStr+="--UPSHIFT CONTINGENCY FORCED TCC OFF<br/>";
                         } else if (tc=="1" || tc==1) {
                             autoStr+="--MINIMUM THROTTLE CONT. FORCED TCC OFF<br/>";
                         } else if (tc=="2" || tc==2) {
                             autoStr+="--DIAGNOSTIC CONTINGENCY FORCED TCC OFF<br/>";
                         } else if (tc=="3" || tc==3) {
                             autoStr+="--OUTPUT SPEED LOSS FORCED TCC OFF<br/>";
                         } else if (tc=="4" || tc==4) {
                             autoStr+="--PRNDL D3 FORCED TCC OFF<br/>";
                         } else if (tc=="5" || tc==5) {
                             autoStr+="--PRNDL D4 FORCED TCC OFF<br/>";
                         }
                     }
                     tc--;
                }
              //}
              if (DEBUG==1) {console.log("setValues [COMPLETE!]: " + y);}
            } else if (ecmFileConst[z]=="NotUsed") {
                /* Skip */
            } else if (ecmFileConst[z]=="TODO") {
                /* Skip */
            } else {
              try {
                //if (y<ecmFileConst.length && y<value.length) {
                    setValue(ecmFileConst[z], value[y]);
                //}
                //if (DEBUG==3) {console.log("setValues-["+ z.toString() +"]:" + ecmFileConst[z] + value[y].toString());}
              } catch(error) {
                  console.error("ERROR setValues-ecmFileConst["+ z.toString() +"]:" + ecmFileConst[z] +" value["+y+"]:"+ value[y].toString(),error);
              }
            }
        } catch(error) {
            console.log("ERROR setValues" + ecmFileConst[z] + ": " + error);
        }
        y++;                           
    }
    document.getElementById("EngineData").innerHTML=tranStr;
    document.getElementById("TransData").innerHTML=autoStr;
    rotateRPM();
    rotateMPH();
 }                                  
 /* End Function ----------------------------------------------------------------------- */

    //setTimeout(function() {checkCookie();}, 10000);
/* --> */
</script>
</html>
